<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>이벤트 - 디파인더바디 피트니스</title>
	<link rel="stylesheet" href="css/event.css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
	<div id="header"></div>
	<main>
		<section class="event-hero">
			<h1>목표 달성의 부스터, 지금 시작됩니다</h1>
			<p>회원님들을 위한 특별한 이벤트를 확인하세요</p>
		</section>

		<section class="event-content">
			<div class="event-image">
				<img id="eventImage" src="images/event/event-banner1.jpg" alt="이벤트 이미지">
				<button class="prev-btn">&#10094;</button>
				<button class="next-btn">&#10095;</button>
			</div>
			<div class="event-description">
				<h2 id="eventTitle">설맞이 명절 선물 이벤트!</h2>
				<p id="eventDescription"> 설 명절, 맛있는 음식들과 오랜만에 만나는 친인척 가족들<br> 하지만 기름진 명절 음식들 덕분에 내 몸무게도 살짝 무겁게
					느껴지셨나요?<br><br> 그래서 준비했습니다! 디파인더바디짐x하모니마트 콜라보 설맞이 명절선물 이벤트!<br><br> 늘어난 몸무게를 함께 헬스장에서 산뜻하게
					리셋하세요!<br>이젠 디파인더바디짐에서 즐겁게 태워볼 시간이에요!<br><br>명절 음식으로 쌓인 칼로리, 걱정NO<br><br>이벤트 혜택<br><br>12개울
					등록시<br>1.하모니마트 상품권 30,000원 증정<br><br>2.운동복 50% 할인<br>-운동복 15,000원 -7,500원<br>-하루 무제한 입장 + 수건도
					무료!<br><br>PT2회 무료제공(176,000원 상당)<br>-트레이너님과 함께 완벽한 새해 운동 시작!<br><br>
					이벤트 기간<br>
					-2025.01.15 ~ 상품권 100장 소진시 마감
				</p>
			</div>
		</section>
	</main>
	<div id="footer"></div>
	<script>
		window.addEventListener('load', function () {
			$("#header").load("header.html", function () {
				if (typeof initializeHeader === 'function') {
					initializeHeader();
				}
			});
			$("#footer").load("footer.html");
		});

		document.addEventListener('DOMContentLoaded', function () {
			const eventImage = document.getElementById('eventImage');
			const eventTitle = document.getElementById('eventTitle');
			const eventDescription = document.getElementById('eventDescription');
			const prevBtn = document.querySelector('.prev-btn');
			const nextBtn = document.querySelector('.next-btn');

			const events = [
				{
					image: 'images/event/event-banner1.jpg',
					title: '설맞이 명절 선물 이벤트!',
					description: '설 명절, 맛있는 음식들과 오랜만에 만나는 친인척 가족들<br> 하지만 기름진 명절 음식들 덕분에 내 몸무게도 살짝 무겁게 느껴지셨나요?<br><br> 그래서 준비했습니다! 디파인더바디짐x하모니마트 콜라보 설맞이 명절선물 이벤트!<br><br> 늘어난 몸무게를 함께 헬스장에서 산뜻하게 리셋하세요!<br>이젠 디파인더바디짐에서 즐겁게 태워볼 시간이에요!<br><br>명절 음식으로 쌓인 칼로리, 걱정NO<br><br>이벤트 혜택<br><br>12개월 등록시<br>1.하모니마트 상품권 30,000원 증정<br><br>2.운동복 50% 할인<br>-운동복 15,000원 -7,500원<br>-하루 무제한 입장 + 수건도 무료!<br><br>PT2회 무료제공(176,000원 상당)<br>-트레이너님과 함께 완벽한 새해 운동 시작!<br><br>이벤트 기간<br>-2025.01.15 ~ 상품권 100장 소진시 마감'
				},
				{
					image: 'images/event/event-banner2.jpg',
					title: '랜덤 선물 뽑기 이벤트!!!',
					description: '참여방법<br>	1.네이버 리뷰 작성(사진 2장+ 3줄 이상) <br>2.리뷰 작성 후, 뽑기권 1회 증정! <br>어떤 선물이 나올지 두근두근~<br><br>선물안내<br>1등 : 회원권 1개월<br>2등 : 삼대오백 부스터<br>3등 : 운동복 1개월<br>꽝 : 무슈거 사탕<br><br>이벤트 기간<br>2025.01.06 ~ 2025.01.22<br><br>유의 사항<br>-기존회원(일일권 제외) 대상<br>-자세한 사항은 센터데스크로 문의해주세요!<br><br>올해는 건강과 재미를 함께 잡아보세요!<br>운동도 하고, 선물도 받고! 지금 바로 도전하세요!'
				},
				{
					image: 'images/event/event-banner3.jpg',
					title: 'NEW YEAR EVENT',
					description: '2025년 설을 맞아 건강하고 멋진 몸을 만들기 위한 특별한 이벤트를 준비했습니다.<br>1월 한정으로, PT 10회 이상 등록시 하모니마트 상품권 3만원을 100% 증정 해드립니다!<br>(1/15 이후 신규 및 재등록 회원님들 모두 증정 대상이니 조기마감 되기전에 많은 관심 부탁드립니다!)<br>이벤트 기간<br>-2025.01.15 ~ 2025.01.31<br><br>NEW YEAR EVENT 혜택<br>체형개선/체형교정 전문 PT 제공<br>소도구를 활용한 기능성 트레이닝<br>온라인/오프라인 체계적인 회원 관리<br>체형평가 결과를 바탕으로 맞춤 운동 프로그램 설계<br>100% 성공률의 다이어트 프로그램 제공<br><br>넓고 쾌적한 공간, 최신 설비, 전문 트레이너와 함께 여러분의 목표를 완벽하게 지원합니다.<br><br>- 당신의 새해 목표, 디파인더바디짐에서 이뤄드립니다!'
				}
			];

			let currentIndex = 0;

			function updateEvent(index) {
				// 페이드 아웃
				eventImage.classList.add('fade-out');
				eventTitle.classList.add('fade-out');
				eventDescription.classList.add('fade-out');

				setTimeout(() => {
					eventImage.src = events[index].image;
					eventTitle.textContent = events[index].title;
					eventDescription.innerHTML = events[index].description;

					// 페이드 인
					eventImage.classList.remove('fade-out');
					eventTitle.classList.remove('fade-out');
					eventDescription.classList.remove('fade-out');
				}, 300); // 트랜지션 시간과 일치
			}

			function checkImageExists(url) {
				return new Promise((resolve) => {
					const img = new Image();
					img.onload = () => resolve(true);
					img.onerror = () => resolve(false);
					img.src = url;
				});
			}

			async function changeEvent(direction) {
				let newIndex = currentIndex;
				let imageExists = false;

				while (!imageExists) {
					newIndex = (newIndex + direction + events.length) % events.length;
					if (newIndex === currentIndex) {
						console.log("No valid images found");
						return;
					}

					imageExists = await checkImageExists(events[newIndex].image);
					if (imageExists) {
						currentIndex = newIndex;
						updateEvent(currentIndex);
						break;
					}
				}
			}

			prevBtn.addEventListener('click', () => changeEvent(-1));
			nextBtn.addEventListener('click', () => changeEvent(1));

			// 초기 이벤트 표시
			updateEvent(currentIndex);
		});
	</script>
</body>

</html>